<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
    <title>Laurel Show Tracker</title>
</head>
<header>
    <nav class="main-nav flexed">
        <div class="main-logo">
            <a href="/" class="main-logo"><img src="/images/logo.png"></a>
        </div>
        <div class="nav-others">
            <% if(user){ %>
                <a href="/tracker/myFavourites"><span>Liked Shows</span></a>
                <a href="/logout"><span>Logout</span></a>
                <% } else { %>
                <a href="/login"><span>Login</span></a>
                <a href="/signup"><span>Create Account</span></a>
            <% } %>
        </div>
    </nav>
</header>
<body>
    <section class="show">
        <div class="flexed">
            <div class="show-poster">
                <form action="/tracker/toggleLike/<%= show.id %>?_method=PUT" method="POST">
                    <button class="btn <%= isLiked ? 'btn-secondary' : 'btn-primary' %>" id="like-btn" type="submit">
                        <%= isLiked ? 'Unlike Show' : 'Like Show' %>
                    </button>
                </form>
                <img src="<%= show.image.original %>">
            </div>
            <div class="show-details">
                <div class="flexed">
                    <h1 class="show-title"><%= show.name %></h2>
                    <a href="/tracker/toggleLike"><span class="add-favourite"></span></a>
                </div>    
                <div class="show-summary"><p><%= summary %></p></div>
            </div>
        </div>
        <div class="show-extras flexed">
            <% if (show.type) { %> <p><strong>SHOW TYPE: </strong><%= show.type %></p> <% } %>
            <% if (show.genres) { %> <p><strong>GENRES: </strong><%= show.genres.join(', ') %></p> <% } %>
            <% if (show.premiered) { %> <p><strong>PREMIERED: </strong><%= show.premiered %></p> <% } %>
            <% if (show.language) { %> <p><strong>LANGUAGES: </strong><%= show.language %></p> <% } %>
        </div>
    </section>
    <footer class="py-3 my-4">
        <ul class="nav justify-content-center pb-3 mb-3">
            <% if(user){ %>
                <li class="nav-item"><a href= "/" class="nav-link px-2 text-muted">Home</a></li>
                <li class="nav-item"><a href= "/tracker/myFavourites" class="nav-link px-2 text-muted">Liked Shows</a></li>
                <li class="nav-item"><a href= "/logout" class="nav-link px-2 text-muted">Logout</a></li>
            <% } else { %>
                <li class="nav-item"><a href= "/login" class="nav-link px-2 text-muted">Login</a></li>
                <li class="nav-item"><a href= "/signup" class="nav-link px-2 text-muted">Create Account</a></li>
            <% } %>
        </ul>
        <p class="text-center text-muted">Â© Dylan Young, Prince Gachanja</p>
    </footer>
    <script src="/js/main.js" type="text/html"></script>
</body>
</html>

